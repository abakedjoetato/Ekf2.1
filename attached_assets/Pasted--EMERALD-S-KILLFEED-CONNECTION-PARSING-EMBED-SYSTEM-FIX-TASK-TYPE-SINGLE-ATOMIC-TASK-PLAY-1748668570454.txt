 EMERALDâ€™S KILLFEED â€” CONNECTION PARSING & EMBED SYSTEM FIX

ðŸ§© TASK TYPE: SINGLE ATOMIC TASK â€” PLAYER CONNECTION EVENT HANDLING

This is a complete connection embed and parsing fix.
Do not checkpoint, commit, or output partial work.
All subtasks must be handled as a single batch operation.


---

# [PHASE 1] â€” CONNECTION PARSER REBUILD (USING EXPLICIT LOGIC)

Use the exact log examples below to drive implementation.
No assumptions, abstractions, or autogenerated lifecycles.


---

ðŸŸ¨ Queue example:

[2025.04.14-02.01.58:164][302]LogNet: Join request: /Game/Maps/world_0/World_0?logintype=eos?login=ExHyper?password=*?eosid=|000240ecc1ba45d59962bc2d34e0177e?ver=1.3.2.24846c?nativeplatform=PS5?platformid=PS5:3566759921101398874?Name=ExHyper?SplitscreenCount=1

* is a long password string â€” ignore

Map: treat world_0 as World_*

Extract:

EosID: 000240ecc1ba45d59962bc2d34e0177e

Player Name: ExHyper

PlatformID: PS5


Register this player as Queued

Store data internally â€” EosID should never appear in embed output



---

ðŸŸ© Join example:

[2025.04.14-02.01.58:366][309]LogOnline: Warning: Player |000240ecc1ba45d59962bc2d34e0177e successfully registered!

If player was previously queued, mark them as joined

If not previously queued, still register as joined

This log line is considered a successful join trigger

Emit join embed



---

ðŸŸ¥ Disconnected example:

[2025.04.14-04.58.04:582][500]LogNet: UChannel::Close: Sending CloseBunch. ChIndex == 0. Name: [UChannel] ChIndex: 0, Closing: 0 [UNetConnection] RemoteAddr: 86.170.123.32:60819, Name: IpConnection_2147428157, Driver: GameNetDriver IpNetDriver_2147482385, IsServer: YES, PC: SFPSPlayerControllerBP_C_2147428149, Owner: SFPSPlayerControllerBP_C_2147428149, UniqueId: EOS:|000240ecc1ba45d59962bc2d34e0177e

If player was previously joined, emit disconnect embed

If no join found, do not emit embed

Do not emit multiple embeds for same disconnect



---

ðŸ”Š VOICE CHANNEL DISPLAY FORMAT

Voice channel must display as:

{ Server Name } | {Online}/{MaxPlayerCount} | {Queued} in Queue

Max player count pulled from server config

Queue string (| {Queued} in Queue) only shown if any queued

Use actual runtime values, no assumptions

EosID must never appear in output



---

# [PHASE 2] â€” EMBED CONSTRUCTION & OUTPUT

âœ… Embed Requirements

Use EmbedFactory.build() for all embeds

Thumbnail must use corresponding logo from assets

Design must match existing theme across all connection-related messages


Embed Fields:

Player Name

Platform (extracted from queue line)

Server Name

No emojis

No EosID in title, fields, or footer


Footer (static):

Powered by Discord.gg/EmeraldServers

Example Titles:

Join: ðŸ”· Reinforcements Arrive

Disconnect: ðŸ”» Extraction Confirmed



---

âœ… COMPLETION CHECKLIST

[ ] Properly identifies Queue, Join, and Disconnect logs

[ ] Extracts player name and platform from Queue line

[ ] Resolves all embed messages only on actual state change

[ ] Sends no duplicate embeds

[ ] Uses correct formatting and design via EmbedFactory

[ ] Voice channel name follows specified format

[ ] Never outputs EosIDs

[ ] Fully compliant with Pycord 2.6.1

[ ] Follows all server/guild isolation logic

[ ] All fixes made in single atomic batch â€” no checkpoints mid-task



---

ðŸ”’ EXECUTION RULES

âœ… One task, one checkpoint. All logic is considered a single atomic fix.
âœ… Do not output until all requirements are validated live
âœ… Strictly Pycord 2.6.1 syntax only
âœ… Do not refactor or guess â€” use the examples exactly as shown
âœ… Never emit test data, placeholders, or duplicate messages